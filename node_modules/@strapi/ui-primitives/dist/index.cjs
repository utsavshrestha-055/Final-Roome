"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("react/jsx-runtime"),Rt=require("react"),E=require("@radix-ui/primitive"),A=require("@radix-ui/react-compose-refs"),ge=require("@radix-ui/react-context"),et=require("@radix-ui/react-dismissable-layer"),tt=require("@radix-ui/react-focus-guards"),ot=require("@radix-ui/react-focus-scope"),ne=require("@radix-ui/react-id"),Ne=require("@radix-ui/react-popper"),nt=require("@radix-ui/react-portal"),_=require("@radix-ui/react-primitive"),ie=require("@radix-ui/react-use-controllable-state"),H=require("@radix-ui/react-use-layout-effect"),rt=require("aria-hidden"),Vt=require("react-dom"),st=require("react-remove-scroll"),Ee=require("@radix-ui/react-slot"),Je=require("@radix-ui/number"),_t=require("@radix-ui/react-collection"),Nt=require("@radix-ui/react-direction"),lt=require("@radix-ui/react-use-callback-ref"),At=require("@radix-ui/react-use-previous"),Ot=require("@radix-ui/react-visually-hidden");function Ae(o){const l=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(o){for(const e in o)if(e!=="default"){const t=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(l,e,t.get?t:{enumerable:!0,get:()=>o[e]})}}return l.default=o,Object.freeze(l)}const r=Ae(Rt),se=Ae(Ne),Oe=Ae(Vt);let Ie=new Map;function Mt(o,l){let e=o+(l?Object.entries(l).sort((n,s)=>n[0]<s[0]?-1:1).join():"");if(Ie.has(e))return Ie.get(e);let t=new Intl.Collator(o,l);return Ie.set(e,t),t}function Me(o,l){let e=Mt(o,{usage:"search",...l});return{startsWith(t,n){return n.length===0?!0:(t=t.normalize("NFC"),n=n.normalize("NFC"),e.compare(t.slice(0,n.length),n)===0)},endsWith(t,n){return n.length===0?!0:(t=t.normalize("NFC"),n=n.normalize("NFC"),e.compare(t.slice(-n.length),n)===0)},contains(t,n){if(n.length===0)return!0;t=t.normalize("NFC"),n=n.normalize("NFC");let s=0,i=n.length;for(;s+i<=t.length;s++){let c=t.slice(s,s+i);if(e.compare(n,c)===0)return!0}return!1}}}const jt=o=>{const l=r.useRef();return r.useEffect(()=>{l.current=o}),l.current};function Dt(o){const l=`${o}CollectionProvider`,[e,t]=ge.createContextScope(l),[n,s]=e(l,{collectionRef:{current:null},itemMap:new Map,listeners:new Set}),i=d=>{const{scope:m,children:S}=d,g=r.useRef(null),v=r.useRef(new Map).current,h=r.useRef(new Set).current;return u.jsx(n,{scope:m,itemMap:v,collectionRef:g,listeners:h,children:S})};i.displayName=l;const c=`${o}CollectionSlot`,a=r.forwardRef((d,m)=>{const{scope:S,children:g}=d,v=s(c,S),h=A.useComposedRefs(m,v.collectionRef);return u.jsx(Ee.Slot,{ref:h,children:g})});a.displayName=c;const x=`${o}CollectionItemSlot`,p="data-radix-collection-item",C=r.forwardRef((d,m)=>{const{scope:S,children:g,...v}=d,h=r.useRef(null),y=A.useComposedRefs(m,h),N=s(x,S);return r.useEffect(()=>{const T=Array.from(N.itemMap.values());return N.itemMap.set(h,{ref:h,...v}),N.listeners.forEach(O=>O(Array.from(N.itemMap.values()),T)),()=>{const O=Array.from(N.itemMap.values());N.itemMap.delete(h),N.listeners.forEach(P=>P(Array.from(N.itemMap.values()),O))}}),u.jsx(Ee.Slot,{[p]:"",ref:y,children:g})});C.displayName=x;function f(d){const m=s(`${o}CollectionConsumer`,d),S=r.useCallback(()=>{const v=m.collectionRef.current;if(!v)return[];const h=Array.from(v.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((T,O)=>h.indexOf(T.ref.current)-h.indexOf(O.ref.current))},[m.collectionRef,m.itemMap]),g=r.useCallback(v=>(m.listeners.add(v),()=>m.listeners.delete(v)),[m.listeners]);return{getItems:S,subscribe:g}}return[{Provider:i,Slot:a,ItemSlot:C},f,t]}const Lt=[" ","Enter","ArrowUp","ArrowDown"],Ft=["Enter"],Qe=o=>!!(o.length===1&&o.match(/\S| /)),ct="Combobox",[fe,ve]=Dt(ct),[kt,G]=ge.createContext(ct),Ht=({children:o})=>u.jsx(se.Root,{children:u.jsx(fe.Provider,{scope:void 0,children:o})}),Bt=o=>{const{allowCustomValue:l=!1,autocomplete:e="none",children:t,open:n,defaultOpen:s,onOpenChange:i,value:c,defaultValue:a,onValueChange:x,disabled:p,required:C=!1,locale:f="en-EN",onTextValueChange:d,textValue:m,defaultTextValue:S,filterValue:g,defaultFilterValue:v,onFilterValueChange:h}=o,[y,N]=r.useState(null),[T,O]=r.useState(null),[P,D]=r.useState(null),[B,W]=r.useState(null),[L=!1,M]=ie.useControllableState({prop:n,defaultProp:s,onChange:i}),[F,k]=ie.useControllableState({prop:c,defaultProp:a,onChange:x}),[U,$]=ie.useControllableState({prop:m,defaultProp:S,onChange:d}),[X,Z]=ie.useControllableState({prop:g,defaultProp:v,onChange:h}),q=ne.useId(),ue=r.useCallback((K,le)=>{const de=le.map(w=>w.ref.current),[J,...ce]=de,[ee]=ce.slice(-1),b=B;for(const w of K){if(w===b)return;if(w?.scrollIntoView({block:"nearest"}),w===J&&T&&(T.scrollTop=0),w===ee&&T&&(T.scrollTop=T.scrollHeight),W(w),e==="both"){const j=le.find(I=>I.ref.current===w);j&&$(j.textValue)}if(w!==b)return}},[e,$,T,B]);return r.useEffect(()=>{e!=="both"&&W(null)},[U,e]),r.useEffect(()=>{if(P&&y)return rt.hideOthers([P,y])},[P,y]),u.jsx(Ht,{children:u.jsx(kt,{allowCustomValue:l,autocomplete:e,required:C,trigger:y,onTriggerChange:N,contentId:q,value:F,onValueChange:k,open:L,onOpenChange:M,disabled:p,locale:f,focusFirst:ue,textValue:U,onTextValueChange:$,onViewportChange:O,onContentChange:D,visuallyFocussedItem:B,filterValue:X,onFilterValueChange:Z,onVisuallyFocussedItemChange:W,children:u.jsx(ot.FocusScope,{trapped:L,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:K=>{y?.focus({preventScroll:!0}),document.getSelection()?.empty(),K.preventDefault()},children:t})})})},Ut="ComboboxTrigger",$t=r.forwardRef((o,l)=>{const{...e}=o,t=G(Ut);return u.jsx(se.Anchor,{asChild:!0,children:u.jsx("div",{ref:l,"data-disabled":t.disabled?"":void 0,...e})})}),it="ComboboxInput",qt=r.forwardRef((o,l)=>{const e=G(it),t=r.useRef(null),{getItems:n}=ve(void 0),{startsWith:s}=Me(e.locale,{sensitivity:"base"}),i=e.disabled,c=A.useComposedRefs(t,l,e.onTriggerChange),a=()=>{i||e.onOpenChange(!0)},x=jt(e.filterValue);return H.useLayoutEffect(()=>{const p=setTimeout(()=>{if(e.textValue===""||e.textValue===void 0||e.filterValue===""||e.filterValue===void 0)return;const C=n().find(d=>d.type==="option"&&s(d.textValue,e.textValue)),f=Co(x??"",e.filterValue);C&&!e.visuallyFocussedItem&&f===e.filterValue.length&&t.current.setSelectionRange(e.filterValue.length,e.textValue.length)});return()=>clearTimeout(p)},[e.textValue,e.filterValue,s,e.visuallyFocussedItem,n,x]),u.jsx("input",{type:"text",role:"combobox","aria-controls":e.contentId,"aria-expanded":e.open,"aria-required":e.required,"aria-autocomplete":e.autocomplete,"data-state":e.open?"open":"closed","aria-disabled":i,"aria-activedescendant":e.visuallyFocussedItem?.id,disabled:i,"data-disabled":i?"":void 0,"data-placeholder":e.textValue===void 0?"":void 0,value:e.textValue??"",...o,ref:c,onClick:E.composeEventHandlers(o.onClick,p=>{p.currentTarget.focus()}),onPointerDown:E.composeEventHandlers(o.onPointerDown,p=>{p.button===0&&p.ctrlKey===!1&&(a(),p.currentTarget.focus())}),onKeyDown:E.composeEventHandlers(o.onKeyDown,p=>{if(["ArrowUp","ArrowDown","Home","End"].includes(p.key))setTimeout(()=>{let f=n().filter(d=>!d.disabled).map(d=>d.ref.current);if(["ArrowUp","End"].includes(p.key)&&(f=f.slice().reverse()),["ArrowUp","ArrowDown"].includes(p.key)){const d=e.visuallyFocussedItem??p.target;let m=f.indexOf(d);m===f.length-1&&(m=-1),f=f.slice(m+1)}if(["ArrowDown"].includes(p.key)&&e.autocomplete==="both"&&f.length>1){const[d,...m]=f,S=n().find(g=>g.ref.current===d).textValue;e.textValue===S&&(f=m)}e.focusFirst(f,n())}),p.preventDefault();else if(["Escape"].includes(p.key))e.open?e.onOpenChange(!1):(e.onValueChange(void 0),e.onTextValueChange("")),p.preventDefault();else if(Ft.includes(p.key)){if(e.visuallyFocussedItem){const C=n().find(f=>f.ref.current===e.visuallyFocussedItem);C&&(e.onValueChange(C.value),e.onTextValueChange(C.textValue),e.autocomplete==="both"&&e.onFilterValueChange(C.textValue),C.ref.current?.click())}else{const C=n().find(f=>f.type==="option"&&!f.disabled&&f.textValue===e.textValue);C&&(e.onValueChange(C.value),e.onTextValueChange(C.textValue),e.autocomplete==="both"&&e.onFilterValueChange(C.textValue),C.ref.current?.click())}e.onOpenChange(!1),p.preventDefault()}else e.onVisuallyFocussedItemChange(null)}),onChange:E.composeEventHandlers(o.onChange,p=>{e.onTextValueChange(p.currentTarget.value),e.autocomplete==="both"&&e.onFilterValueChange(p.currentTarget.value)}),onKeyUp:E.composeEventHandlers(o.onKeyUp,p=>{!e.open&&(Qe(p.key)||["ArrowUp","ArrowDown","Home","End","Backspace"].includes(p.key))&&a(),setTimeout(()=>{if(e.autocomplete==="both"&&Qe(p.key)&&e.filterValue!==void 0){const C=e.filterValue,f=n().find(d=>s(d.textValue,C));f&&e.onTextValueChange(f.textValue)}})}),onBlur:E.composeEventHandlers(o.onBlur,()=>{e.onVisuallyFocussedItemChange(null);const[p]=n().filter(f=>f.textValue===e.textValue&&f.type==="option");if(e.allowCustomValue){p&&(e.onValueChange(p.value),e.autocomplete==="both"&&e.onFilterValueChange(p.textValue));return}const[C]=n().filter(f=>f.value===e.value&&f.type==="option");p?e.onValueChange(p.value):C&&e.textValue!==""?(e.onTextValueChange(C.textValue),e.autocomplete==="both"&&e.onFilterValueChange(C.textValue)):(e.onValueChange(void 0),e.onTextValueChange(""))})})}),Kt=r.forwardRef((o,l)=>{const{children:e,...t}=o,n=G(it),s=n.disabled,i=()=>{s||(n.onOpenChange(!0),n.trigger?.focus())};return u.jsx(_.Primitive.button,{"aria-hidden":!0,type:"button","aria-disabled":s,"aria-controls":n.contentId,"aria-expanded":n.open,disabled:s,"data-disabled":s?"":void 0,...t,tabIndex:-1,ref:l,onClick:E.composeEventHandlers(t.onClick,()=>{n.trigger?.focus()}),onPointerDown:E.composeEventHandlers(t.onPointerDown,c=>{c.button===0&&c.ctrlKey===!1&&(i(),c.preventDefault())}),onKeyDown:E.composeEventHandlers(t.onKeyDown,c=>{Lt.includes(c.key)&&(i(),c.preventDefault())}),children:e||"▼"})}),Wt="ComboboxPortal",at=o=>u.jsx(nt.Portal,{asChild:!0,...o});at.displayName=Wt;const ut="ComboboxContent",zt=r.forwardRef((o,l)=>{const e=G(ut),[t,n]=r.useState();if(H.useLayoutEffect(()=>{n(new DocumentFragment)},[]),!e.open){const s=t;return s?Oe.createPortal(u.jsx(fe.Slot,{scope:void 0,children:u.jsx("div",{children:o.children})}),s):null}return u.jsx(Yt,{...o,ref:l})}),Gt=10,Yt=r.forwardRef((o,l)=>{const{onEscapeKeyDown:e,onPointerDownOutside:t,...n}=o,s=G(ut),i=A.useComposedRefs(l,a=>s.onContentChange(a)),{onOpenChange:c}=s;return tt.useFocusGuards(),r.useEffect(()=>{const a=()=>{c(!1)};return window.addEventListener("blur",a),window.addEventListener("resize",a),()=>{window.removeEventListener("blur",a),window.removeEventListener("resize",a)}},[c]),u.jsx(st.RemoveScroll,{allowPinchZoom:!0,children:u.jsx(et.DismissableLayer,{asChild:!0,onEscapeKeyDown:e,onPointerDownOutside:t,onFocusOutside:a=>{a.preventDefault()},onDismiss:()=>{s.onOpenChange(!1),s.trigger?.focus({preventScroll:!0})},children:u.jsx(Xt,{role:"listbox",id:s.contentId,"data-state":s.open?"open":"closed",onContextMenu:a=>a.preventDefault(),...n,ref:i,style:{display:"flex",flexDirection:"column",outline:"none",...n.style}})})})}),Xt=r.forwardRef((o,l)=>{const{align:e="start",collisionPadding:t=Gt,...n}=o;return u.jsx(se.Content,{...n,ref:l,align:e,collisionPadding:t,style:{boxSizing:"border-box",...n.style,"--radix-combobox-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-combobox-content-available-width":"var(--radix-popper-available-width)","--radix-combobox-content-available-height":"var(--radix-popper-available-height)","--radix-combobox-trigger-width":"var(--radix-popper-anchor-width)","--radix-combobox-trigger-height":"var(--radix-popper-anchor-height)"}})}),Zt="ComboboxViewport",Jt=r.forwardRef((o,l)=>{const e=G(Zt),t=A.useComposedRefs(l,e.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-combobox-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-combobox-viewport]::-webkit-scrollbar{display:none}"}}),u.jsx(fe.Slot,{scope:void 0,children:u.jsx(_.Primitive.div,{"data-radix-combobox-viewport":"",role:"presentation",...o,ref:t,style:{position:"relative",flex:1,overflow:"auto",...o.style}})})]})}),dt="ComboboxItem",[Qt,pt]=ge.createContext(dt),ft=r.forwardRef((o,l)=>{const{value:e,disabled:t=!1,textValue:n,...s}=o,i=r.useRef(null),c=A.useComposedRefs(l,i),{getItems:a}=ve(void 0),{onTextValueChange:x,textValue:p,visuallyFocussedItem:C,...f}=G(dt),d=ne.useId(),[m,S]=r.useState(n??""),g=r.useMemo(()=>C===a().find(O=>O.ref.current===i.current)?.ref.current,[a,C]),v=f.value===e,h=()=>{t||(f.onValueChange(e),x(m),f.onOpenChange(!1),f.autocomplete==="both"&&f.onFilterValueChange(m),f.trigger?.focus({preventScroll:!0}))},{startsWith:y}=Me(f.locale,{sensitivity:"base"}),N=r.useCallback(O=>{S(P=>P||(O?.textContent??"").trim())},[]);r.useEffect(()=>{v&&p===void 0&&m!==""&&x(m)},[m,v,p,x]);const T=ne.useId();return f.autocomplete==="list"&&m&&p&&!y(m,p)||f.autocomplete==="both"&&m&&f.filterValue&&!y(m,f.filterValue)?null:u.jsx(Qt,{textId:d,onTextValueChange:N,isSelected:v,children:u.jsx(fe.ItemSlot,{scope:void 0,value:e,textValue:m,disabled:t,type:"option",children:u.jsx(_.Primitive.div,{role:"option","aria-labelledby":d,"data-highlighted":g?"":void 0,"aria-selected":v&&g,"data-state":v?"checked":"unchecked","aria-disabled":t||void 0,"data-disabled":t?"":void 0,tabIndex:t?void 0:-1,...s,id:T,ref:c,onPointerUp:E.composeEventHandlers(s.onPointerUp,h)})})})}),eo="ComboboxItemText",to=r.forwardRef((o,l)=>{const{className:e,style:t,...n}=o,s=pt(eo),i=A.useComposedRefs(l,s.onTextValueChange);return u.jsx(_.Primitive.span,{id:s.textId,...n,ref:i})}),oo="ComboboxItemIndicator",no=r.forwardRef((o,l)=>{const{isSelected:e}=pt(oo);return e?u.jsx(_.Primitive.span,{"aria-hidden":!0,...o,ref:l}):null}),mt="ComboboxNoValueFound",ro=r.forwardRef((o,l)=>{const{textValue:e="",locale:t}=G(mt),[n,s]=r.useState([]),{subscribe:i}=ve(void 0),{startsWith:c}=Me(t,{sensitivity:"base"});return r.useEffect(()=>{const a=i(x=>{s(x)});return()=>{a()}},[i]),n.some(a=>c(a.textValue,e))?null:u.jsx(_.Primitive.div,{...o,ref:l})}),so=r.forwardRef((o,l)=>{const{disabled:e=!1,...t}=o,n=G(mt),{textValue:s,visuallyFocussedItem:i}=n,{getItems:c,subscribe:a}=ve(void 0),x=r.useRef(null),[p,C]=r.useState(!1),f=A.useComposedRefs(l,x),d=r.useMemo(()=>i===c().find(g=>g.ref.current===x.current)?.ref.current,[c,i]),m=ne.useId(),S=()=>{!e&&s&&(n.onValueChange(s),n.onTextValueChange(s),n.onOpenChange(!1),n.autocomplete==="both"&&n.onFilterValueChange(s),n.trigger?.focus({preventScroll:!0}))};return H.useLayoutEffect(()=>{const g=a(v=>{C(!v.some(h=>h.textValue===s&&h.type!=="create"))});return c().length===0&&C(!0),()=>{g()}},[s,a,c]),!s||!p?null:u.jsx(fe.ItemSlot,{scope:void 0,value:s??"",textValue:s??"",disabled:e,type:"create",children:u.jsx(_.Primitive.div,{role:"option",tabIndex:e?void 0:-1,"aria-disabled":e||void 0,"data-disabled":e?"":void 0,"data-highlighted":d?"":void 0,...t,id:m,ref:f,onPointerUp:E.composeEventHandlers(t.onPointerUp,S)})})}),lo=Bt,co=$t,io=qt,ao=Kt,uo=at,po=zt,fo=Jt,mo=ft,ho=to,xo=no,go=ro,vo=so;function Co(o,l){const e=Math.min(o.length,l.length);for(let t=0;t<e;t++)if(o[t]!==l[t])return t;return e}const So=Object.freeze(Object.defineProperty({__proto__:null,ComboboxItem:ft,Content:po,CreateItem:vo,Icon:ao,Item:mo,ItemIndicator:xo,ItemText:ho,NoValueFound:go,Portal:uo,Root:lo,TextInput:io,Trigger:co,Viewport:fo},Symbol.toStringTag,{value:"Module"})),bo=[" ","Enter","ArrowUp","ArrowDown"],yo=[" ","Enter"],me="Select",[Ce,he,wo]=_t.createCollection(me),[ae,Io]=ge.createContextScope(me,[wo,Ne.createPopperScope]),Se=Ne.createPopperScope(),[Eo,Y]=ae(me),[To,Po]=ae(me),je=o=>{const{__scopeSelect:l,children:e,open:t,defaultOpen:n,onOpenChange:s,value:i,defaultValue:c,onValueChange:a,dir:x,disabled:p,required:C,multi:f=!1}=o,d=Se(l),[m,S]=r.useState(null),[g,v]=r.useState(null),[h,y]=r.useState(!1),N=Nt.useDirection(x),[T=!1,O]=ie.useControllableState({prop:t,defaultProp:n,onChange:s}),[P,D]=ie.useControllableState({prop:i,defaultProp:c,onChange(M){a&&(Array.isArray(M),a(M))}}),B=r.useRef(null),[W,L]=r.useState(new Set);return u.jsx(se.Root,{...d,children:u.jsx(Eo,{required:C,scope:l,trigger:m,onTriggerChange:S,valueNode:g,onValueNodeChange:v,valueNodeHasChildren:h,onValueNodeHasChildrenChange:y,contentId:ne.useId(),value:P,onValueChange:D,open:T,onOpenChange:O,dir:N,triggerPointerDownPosRef:B,disabled:p,multi:f,children:u.jsx(Ce.Provider,{scope:l,children:u.jsx(To,{scope:o.__scopeSelect,onNativeOptionAdd:r.useCallback(M=>{L(F=>new Set(F).add(M))},[]),onNativeOptionRemove:r.useCallback(M=>{L(F=>{const k=new Set(F);return k.delete(M),k})},[]),children:e})})})})};je.displayName=me;const ht="SelectTrigger",De=r.forwardRef((o,l)=>{const{__scopeSelect:e,...t}=o,n=Se(e),s=Y(ht,e),i=s.disabled,c=A.useComposedRefs(l,s.onTriggerChange),a=he(e),[x,p,C]=Et(d=>{const m=a().filter(v=>!v.disabled),S=m.find(v=>v.value===s.value),g=Tt(m,d,S);if(g!==void 0&&!Array.isArray(g.value)){const v=s.multi?[g.value]:g.value;s.onValueChange(v)}}),f=()=>{i||(s.onOpenChange(!0),C())};return u.jsx(se.Anchor,{asChild:!0,...n,children:u.jsx(_.Primitive.div,{role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,"data-placeholder":s.value===void 0?"":void 0,tabIndex:i?void 0:0,...t,ref:c,onClick:E.composeEventHandlers(t.onClick,d=>{d.currentTarget.focus()}),onPointerDown:E.composeEventHandlers(t.onPointerDown,d=>{const m=d.target;m.hasPointerCapture(d.pointerId)&&m.releasePointerCapture(d.pointerId),(m.closest("button")??m.closest("div"))===d.currentTarget&&d.button===0&&d.ctrlKey===!1&&(f(),s.triggerPointerDownPosRef.current={x:Math.round(d.pageX),y:Math.round(d.pageY)},d.preventDefault())}),onKeyDown:E.composeEventHandlers(t.onKeyDown,d=>{const m=x.current!=="",S=d.ctrlKey||d.altKey||d.metaKey,g=d.target;(g.closest("button")??g.closest("div"))===d.currentTarget&&(!S&&d.key.length===1&&p(d.key),!(m&&d.key===" ")&&bo.includes(d.key)&&(f(),d.preventDefault()))})})})});De.displayName=ht;const xt="SelectValue",Le=r.forwardRef((o,l)=>{const{__scopeSelect:e,children:t,placeholder:n,...s}=o,i=Y(xt,e),{onValueNodeHasChildrenChange:c}=i,a=t!==void 0,x=A.useComposedRefs(l,i.onValueNodeChange),[p,C]=r.useState([]),f=he(e);H.useLayoutEffect(()=>{c(a)},[c,a]),r.useLayoutEffect(()=>{if(Array.isArray(i.value)&&p.length!==i.value.length){const m=setTimeout(()=>{const S=f().filter(g=>Array.isArray(g.value)?!1:i.value?.includes(g.value));C(S)});return()=>{clearTimeout(m)}}},[i.value,f,p]);let d;if((i.value===void 0||i.value.length===0)&&n!==void 0)d=u.jsx("span",{children:n});else if(typeof t=="function")if(Array.isArray(i.value)){const m=i.value.map(S=>{const g=p.find(v=>v.value===S);return g?t({value:S,textValue:g?.textValue}):null});d=m.every(S=>S===null)?n:m}else d=t(i.value);else d=t;return u.jsx(_.Primitive.span,{...s,ref:x,children:d||null})});Le.displayName=xt;const Ro="SelectIcon",Fe=r.forwardRef((o,l)=>{const{__scopeSelect:e,children:t,...n}=o;return u.jsx(_.Primitive.span,{"aria-hidden":!0,...n,ref:l,children:t||"▼"})});Fe.displayName=Ro;const Vo="SelectPortal",ke=o=>u.jsx(nt.Portal,{asChild:!0,...o});ke.displayName=Vo;const re="SelectContent",He=r.forwardRef((o,l)=>{const e=Y(re,o.__scopeSelect),[t,n]=r.useState();if(H.useLayoutEffect(()=>{n(new DocumentFragment)},[]),!e.open){const s=t;return s?Oe.createPortal(u.jsx(gt,{scope:o.__scopeSelect,children:u.jsx(Ce.Slot,{scope:o.__scopeSelect,children:u.jsx("div",{children:o.children})})}),s):null}return u.jsx(vt,{...o,ref:l})});He.displayName=re;const z=10,[gt,Q]=ae(re),_o="SelectContentImpl",vt=r.forwardRef((o,l)=>{const{__scopeSelect:e,position:t="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:s,onPointerDownOutside:i,side:c,sideOffset:a,align:x,alignOffset:p,arrowPadding:C,collisionBoundary:f,collisionPadding:d,sticky:m,hideWhenDetached:S,avoidCollisions:g,...v}=o,h=Y(re,e),[y,N]=r.useState(null),[T,O]=r.useState(null),P=A.useComposedRefs(l,b=>N(b)),[D,B]=r.useState(null),[W,L]=r.useState(null),M=he(e),[F,k]=r.useState(!1),U=r.useRef(!1);r.useEffect(()=>{if(y)return rt.hideOthers(y)},[y]),tt.useFocusGuards();const $=r.useCallback(b=>{const[w,...j]=M().map(V=>V.ref.current),[I]=j.slice(-1),R=document.activeElement;for(const V of b)if(V===R||(V?.scrollIntoView({block:"nearest"}),V===w&&T&&(T.scrollTop=0),V===I&&T&&(T.scrollTop=T.scrollHeight),V?.focus(),document.activeElement!==R))return},[M,T]),X=r.useCallback(()=>$([D,y]),[$,D,y]);r.useEffect(()=>{F&&X()},[F,X]);const{onOpenChange:Z,triggerPointerDownPosRef:q}=h;r.useEffect(()=>{if(y){let b={x:0,y:0};const w=I=>{b={x:Math.abs(Math.round(I.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(I.pageY)-(q.current?.y??0))}},j=I=>{b.x<=10&&b.y<=10?I.preventDefault():y.contains(I.target)||Z(!1),document.removeEventListener("pointermove",w),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",w),document.addEventListener("pointerup",j,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",j,{capture:!0})}}},[y,Z,q]),r.useEffect(()=>{const b=()=>Z(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[Z]);const[ue,K]=Et(b=>{const w=M().filter(R=>!R.disabled),j=w.find(R=>R.ref.current===document.activeElement),I=Tt(w,b,j);I&&setTimeout(()=>I.ref.current.focus())}),le=r.useCallback((b,w,j)=>{const I=!U.current&&!j;(h.value!==void 0&&h.value===w||I)&&(B(b),I&&(U.current=!0))},[h.value]),de=r.useCallback(()=>y?.focus(),[y]),J=r.useCallback((b,w,j)=>{const I=!U.current&&!j;(h.value!==void 0&&(Array.isArray(w)?w.every(V=>h.value?.includes(V)):h.value===w)||I)&&L(b)},[h.value]),ce=t==="popper"?Te:Ct,ee=ce===Te?{side:c,sideOffset:a,align:x,alignOffset:p,arrowPadding:C,collisionBoundary:f,collisionPadding:d,sticky:m,hideWhenDetached:S,avoidCollisions:g}:{};return u.jsx(gt,{scope:e,content:y,viewport:T,onViewportChange:O,itemRefCallback:le,selectedItem:D,onItemLeave:de,itemTextRefCallback:J,focusSelectedItem:X,selectedItemText:W,position:t,isPositioned:F,searchRef:ue,children:u.jsx(st.RemoveScroll,{as:Ee.Slot,allowPinchZoom:!0,children:u.jsx(ot.FocusScope,{asChild:!0,trapped:h.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:E.composeEventHandlers(n,b=>{h.trigger?.focus({preventScroll:!0}),document.getSelection()?.empty(),b.preventDefault()}),children:u.jsx(et.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:u.jsx(ce,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed","aria-multiselectable":h.multi?"true":void 0,dir:h.dir,onContextMenu:b=>b.preventDefault(),...v,...ee,onPlaced:()=>k(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:E.composeEventHandlers(v.onKeyDown,b=>{const w=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!w&&b.key.length===1&&K(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let I=M().filter(R=>!R.disabled).map(R=>R.ref.current);if(["ArrowUp","End"].includes(b.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const R=b.target,V=I.indexOf(R);I=I.slice(V+1)}setTimeout(()=>$(I)),b.preventDefault()}})})})})})})});vt.displayName=_o;const No="SelectItemAlignedPosition",Ct=r.forwardRef((o,l)=>{const{__scopeSelect:e,onPlaced:t,...n}=o,s=Y(re,e),i=Q(re,e),[c,a]=r.useState(null),[x,p]=r.useState(null),C=A.useComposedRefs(l,P=>p(P)),f=he(e),d=r.useRef(!1),m=r.useRef(!0),{viewport:S,selectedItem:g,selectedItemText:v,focusSelectedItem:h}=i,y=r.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&x&&S&&g&&v){const P=s.trigger.getBoundingClientRect(),D=x.getBoundingClientRect(),B=s.valueNode.getBoundingClientRect(),W=v.getBoundingClientRect();if(s.dir!=="rtl"){const R=W.left-D.left,V=B.left-R,te=P.left-V,oe=P.width+te,be=Math.max(oe,D.width),ye=window.innerWidth-z,we=Je.clamp(V,[z,ye-be]);c.style.minWidth=`${oe}px`,c.style.left=`${we}px`}else{const R=D.right-W.right,V=window.innerWidth-B.right-R,te=window.innerWidth-P.right-V,oe=P.width+te,be=Math.max(oe,D.width),ye=window.innerWidth-z,we=Je.clamp(V,[z,ye-be]);c.style.minWidth=`${oe}px`,c.style.right=`${we}px`}const L=f(),M=window.innerHeight-z*2,F=S.scrollHeight,k=window.getComputedStyle(x),U=parseInt(k.borderTopWidth,10),$=parseInt(k.paddingTop,10),X=parseInt(k.borderBottomWidth,10),Z=parseInt(k.paddingBottom,10),q=U+$+F+Z+X,ue=Math.min(g.offsetHeight*5,q),K=window.getComputedStyle(S),le=parseInt(K.paddingTop,10),de=parseInt(K.paddingBottom,10),J=P.top+P.height/2-z,ce=M-J,ee=g.offsetHeight/2,b=g.offsetTop+ee,w=U+$+b,j=q-w;if(w<=J){const R=g===L[L.length-1].ref.current;c.style.bottom="0px";const V=x.clientHeight-S.offsetTop-S.offsetHeight,te=Math.max(ce,ee+(R?de:0)+V+X),oe=w+te;c.style.height=`${oe}px`}else{const R=g===L[0].ref.current;c.style.top="0px";const te=Math.max(J,U+S.offsetTop+(R?le:0)+ee)+j;c.style.height=`${te}px`,S.scrollTop=w-J+S.offsetTop}c.style.margin=`${z}px 0`,c.style.minHeight=`${ue}px`,c.style.maxHeight=`${M}px`,t?.(),requestAnimationFrame(()=>d.current=!0)}},[f,s.trigger,s.valueNode,c,x,S,g,v,s.dir,t]);H.useLayoutEffect(()=>y(),[y]);const[N,T]=r.useState();H.useLayoutEffect(()=>{x&&T(window.getComputedStyle(x).zIndex)},[x]);const O=r.useCallback(P=>{P&&m.current===!0&&(y(),h?.(),m.current=!1)},[y,h]);return u.jsx(Oo,{scope:e,contentWrapper:c,shouldExpandOnScrollRef:d,onScrollButtonChange:O,children:u.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:u.jsx(_.Primitive.div,{...n,ref:C,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Ct.displayName=No;const Ao="SelectPopperPosition",Te=r.forwardRef((o,l)=>{const{__scopeSelect:e,align:t="start",collisionPadding:n=z,...s}=o,i=Se(e);return u.jsx(se.Content,{...i,...s,ref:l,align:t,collisionPadding:n,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Te.displayName=Ao;const[Oo,Be]=ae(re,{}),Pe="SelectViewport",Ue=r.forwardRef((o,l)=>{const{__scopeSelect:e,...t}=o,n=Q(Pe,e),s=Be(Pe,e),i=A.useComposedRefs(l,n.onViewportChange),c=r.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),u.jsx(Ce.Slot,{scope:e,children:u.jsx(_.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...t,ref:i,style:{position:"relative",flex:1,overflow:"auto",...t.style},onScroll:E.composeEventHandlers(t.onScroll,a=>{const x=a.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:C}=s;if(C?.current&&p){const f=Math.abs(c.current-x.scrollTop);if(f>0){const d=window.innerHeight-z*2,m=parseFloat(p.style.minHeight),S=parseFloat(p.style.height),g=Math.max(m,S);if(g<d){const v=g+f,h=Math.min(d,v),y=v-h;p.style.height=`${h}px`,p.style.bottom==="0px"&&(x.scrollTop=y>0?y:0,p.style.justifyContent="flex-end")}}}c.current=x.scrollTop})})})]})});Ue.displayName=Pe;const St="SelectGroup",[Mo,jo]=ae(St),$e=r.forwardRef((o,l)=>{const{__scopeSelect:e,...t}=o,n=ne.useId();return u.jsx(Mo,{scope:e,id:n,children:u.jsx(_.Primitive.div,{role:"group","aria-labelledby":n,...t,ref:l})})});$e.displayName=St;const bt="SelectLabel",qe=r.forwardRef((o,l)=>{const{__scopeSelect:e,...t}=o,n=jo(bt,e);return u.jsx(_.Primitive.div,{id:n.id,...t,ref:l})});qe.displayName=bt;const xe="SelectItem",[Do,yt]=ae(xe),Ke=r.forwardRef((o,l)=>{const{__scopeSelect:e,value:t,disabled:n=!1,textValue:s,...i}=o,c=Y(xe,e),a=Q(xe,e),x=typeof t=="string"?Array.isArray(c.value)?c.value.includes(t):c.value===t:t.every(h=>c.value?.includes(h)),p=Array.isArray(c.value)&&Array.isArray(t)&&t.some(h=>c.value?.includes(h)),[C,f]=r.useState(s??""),[d,m]=r.useState(!1),S=A.useComposedRefs(l,h=>a.itemRefCallback?.(h,t,n)),g=ne.useId(),v=()=>{if(!n){let h=c.multi&&typeof t=="string"?[t]:t;p&&!x?c.onValueChange(h):Array.isArray(c.value)&&(h=Pt(t,c.value)),c.onValueChange(h),c.multi||c.onOpenChange(!1)}};if(!c.multi&&Array.isArray(t))throw new Error("You can only pass an array of values in multi selects");return u.jsx(Do,{scope:e,value:t,disabled:n,textId:g,isSelected:x,isIntermediate:p,onItemTextChange:r.useCallback(h=>{f(y=>y||(h?.textContent??"").trim())},[]),children:u.jsx(Ce.ItemSlot,{scope:e,value:t,disabled:n,textValue:C,children:u.jsx(_.Primitive.div,{role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":c.multi?void 0:x&&d,"aria-checked":c.multi?x:void 0,"data-state":x?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:S,onFocus:E.composeEventHandlers(i.onFocus,()=>m(!0)),onBlur:E.composeEventHandlers(i.onBlur,()=>m(!1)),onPointerUp:E.composeEventHandlers(i.onPointerUp,v),onPointerMove:E.composeEventHandlers(i.onPointerMove,h=>{n?a.onItemLeave?.():h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:E.composeEventHandlers(i.onPointerLeave,h=>{h.currentTarget===document.activeElement&&a.onItemLeave?.()}),onKeyDown:E.composeEventHandlers(i.onKeyDown,h=>{a.searchRef?.current!==""&&h.key===" "||(yo.includes(h.key)&&v(),h.key===" "&&h.preventDefault())})})})})});Ke.displayName=xe;const pe="SelectItemText",We=r.forwardRef((o,l)=>{const{__scopeSelect:e,className:t,style:n,...s}=o,i=Y(pe,e),c=Q(pe,e),a=yt(pe,e),x=Po(pe,e),[p,C]=r.useState(null),f=A.useComposedRefs(l,v=>C(v),a.onItemTextChange,v=>c.itemTextRefCallback?.(v,a.value,a.disabled)),d=p?.textContent,m=r.useMemo(()=>u.jsx("option",{value:a.value,disabled:a.disabled,children:d},Array.isArray(a.value)?a.value.join(";"):a.value),[a.disabled,a.value,d]),{onNativeOptionAdd:S,onNativeOptionRemove:g}=x;return H.useLayoutEffect(()=>(S(m),()=>g(m)),[S,g,m]),u.jsxs(u.Fragment,{children:[u.jsx(_.Primitive.span,{id:a.textId,...s,ref:f}),a.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Oe.createPortal(s.children,i.valueNode):null]})});We.displayName=pe;const wt="SelectItemIndicator",ze=r.forwardRef((o,l)=>{const{__scopeSelect:e,children:t,...n}=o,s=yt(wt,e);return typeof t=="function"?u.jsx(_.Primitive.span,{"aria-hidden":!0,...n,ref:l,children:t({isSelected:s.isSelected,isIntermediate:s.isIntermediate})}):s.isSelected?u.jsx(_.Primitive.span,{"aria-hidden":!0,...n,ref:l,children:t}):null});ze.displayName=wt;const Re="SelectScrollUpButton",Ge=r.forwardRef((o,l)=>{const e=Q(Re,o.__scopeSelect),t=Be(Re,o.__scopeSelect),[n,s]=r.useState(!1),i=A.useComposedRefs(l,t.onScrollButtonChange);return H.useLayoutEffect(()=>{if(e.viewport&&e.isPositioned){const c=e.viewport,a=()=>{const x=c.scrollTop>0;s(x)};return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),n?u.jsx(It,{...o,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:a}=e;c&&a&&(c.scrollTop-=a.offsetHeight)}}):null});Ge.displayName=Re;const Ve="SelectScrollDownButton",Ye=r.forwardRef((o,l)=>{const e=Q(Ve,o.__scopeSelect),t=Be(Ve,o.__scopeSelect),[n,s]=r.useState(!1),i=A.useComposedRefs(l,t.onScrollButtonChange);return H.useLayoutEffect(()=>{if(e.viewport&&e.isPositioned){const c=e.viewport,a=()=>{const x=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<x;s(p)};return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),n?u.jsx(It,{...o,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:a}=e;c&&a&&(c.scrollTop+=a.offsetHeight)}}):null});Ye.displayName=Ve;const It=r.forwardRef((o,l)=>{const{__scopeSelect:e,onAutoScroll:t,...n}=o,s=Q("SelectScrollButton",e),i=r.useRef(null),c=he(e),a=r.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return r.useEffect(()=>()=>a(),[a]),H.useLayoutEffect(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),u.jsx(_.Primitive.div,{"aria-hidden":!0,...n,ref:l,style:{flexShrink:0,...n.style},onPointerMove:E.composeEventHandlers(n.onPointerMove,()=>{s.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(t,50))}),onPointerLeave:E.composeEventHandlers(n.onPointerLeave,()=>{a()})})}),Lo="SelectSeparator",Xe=r.forwardRef((o,l)=>{const{__scopeSelect:e,...t}=o;return u.jsx(_.Primitive.div,{"aria-hidden":!0,...t,ref:l})});Xe.displayName=Lo;const _e="SelectArrow",Ze=r.forwardRef((o,l)=>{const{__scopeSelect:e,...t}=o,n=Se(e),s=Y(_e,e),i=Q(_e,e);return s.open&&i.position==="popper"?u.jsx(se.Arrow,{...n,...t,ref:l}):null});Ze.displayName=_e;const Fo="BubbleSelect",ko=r.forwardRef((o,l)=>{const{value:e,...t}=o,n=r.useRef(null),s=A.useComposedRefs(l,n),i=At.usePrevious(e),c=Y(Fo,void 0);r.useEffect(()=>{const x=n.current,p=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(p,"value").set;if(i!==e&&f){const d=new Event("change",{bubbles:!0});f.call(x,e),x.dispatchEvent(d)}},[i,e]);let a=e;return c.multi&&!Array.isArray(e)&&(a=[]),u.jsx(Ot.VisuallyHidden,{asChild:!0,children:u.jsx("select",{...t,multiple:c.multi?!0:void 0,ref:s,defaultValue:a})})});ko.displayName="BubbleSelect";function Et(o){const l=lt.useCallbackRef(o),e=r.useRef(""),t=r.useRef(0),n=r.useCallback(i=>{const c=e.current+i;l(c),function a(x){e.current=x,window.clearTimeout(t.current),x!==""&&(t.current=window.setTimeout(()=>a(""),1e3))}(c)},[l]),s=r.useCallback(()=>{e.current="",window.clearTimeout(t.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(t.current),[]),[e,n,s]}function Tt(o,l,e){const n=l.length>1&&Array.from(l).every(x=>x===l[0])?l[0]:l,s=e?o.indexOf(e):-1;let i=Ho(o,Math.max(s,0));n.length===1&&(i=i.filter(x=>x!==e));const a=i.find(x=>x.textValue.toLowerCase().startsWith(n.toLowerCase()));return a!==e?a:void 0}function Ho(o,l){return o.map((e,t)=>o[(l+t)%o.length])}const Pt=(o,l=[])=>{if(Array.isArray(o))return o.reduce((t,n)=>Pt(n,t),l);const e=l.indexOf(o);return e===-1?[...l,o]:[...l.slice(0,e),...l.slice(e+1)]},Bo=je,Uo=De,$o=Le,qo=Fe,Ko=ke,Wo=He,zo=Ue,Go=$e,Yo=qe,Xo=Ke,Zo=We,Jo=ze,Qo=Ge,en=Ye,tn=Xe,on=Ze,nn=Object.freeze(Object.defineProperty({__proto__:null,Arrow:on,Content:Wo,Group:Go,Icon:qo,Item:Xo,ItemIndicator:Jo,ItemText:Zo,Label:Yo,Portal:Ko,Root:Bo,ScrollDownButton:en,ScrollUpButton:Qo,Select:je,SelectArrow:Ze,SelectContent:He,SelectGroup:$e,SelectIcon:Fe,SelectItem:Ke,SelectItemIndicator:ze,SelectItemText:We,SelectLabel:qe,SelectPortal:ke,SelectScrollDownButton:Ye,SelectScrollUpButton:Ge,SelectSeparator:Xe,SelectTrigger:De,SelectValue:Le,SelectViewport:Ue,Separator:tn,Trigger:Uo,Value:$o,Viewport:zo,createSelectScope:Io},Symbol.toStringTag,{value:"Module"}));Object.defineProperty(exports,"useCallbackRef",{enumerable:!0,get:()=>lt.useCallbackRef});exports.Combobox=So;exports.Select=nn;
